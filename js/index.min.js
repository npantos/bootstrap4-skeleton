document.querySelector("#autoComplete").addEventListener("autoComplete",function(event){console.log(event.detail)});const autoCompletejs=new autoComplete({data:{src:async function(){document.querySelector("#autoComplete").setAttribute("placeholder","Loading...");const source=await fetch("./db/generic.json");return await source.json()},key:["food","cities","animals"]},sort:function(a,b){return a.match<b.match?-1:a.match>b.match?1:0},query:{manipulate:function(query){return query.replace("@pizza","burger")}},trigger:{event:["input","focusin","focusout"],condition:function(query){return!!query.replace(/ /g,"").length&&"hamburger"!==query}},placeHolder:"Food & Drinks",selector:"#autoComplete",threshold:0,debounce:0,searchEngine:"strict",highlight:!0,maxResults:5,resultsList:{render:!0,container:function(source){source.setAttribute("id","autoComplete_list")},element:"ul",destination:document.querySelector("#autoComplete"),position:"afterend"},resultItem:{content:function(data,source){source.innerHTML=data.match},element:"li"},noResults:function(){const result=document.createElement("li");result.setAttribute("class","no_result"),result.setAttribute("tabindex","1"),result.innerHTML="No Results",document.querySelector("#autoComplete_list").appendChild(result)},onSelection:function(feedback){document.querySelector("#autoComplete").blur();const selection=feedback.selection.value.food;document.querySelector(".selection").innerHTML=selection,document.querySelector("#autoComplete").value="",document.querySelector("#autoComplete").setAttribute("placeholder",selection),console.log(feedback)}});document.querySelector(".toggeler").addEventListener("click",function(){const toggele=document.querySelector(".toggele").style.justifyContent;"flex-start"===toggele||""===toggele?(document.querySelector(".toggele").style.justifyContent="flex-end",document.querySelector(".toggeler").innerHTML="Loose",autoCompletejs.searchEngine="loose"):(document.querySelector(".toggele").style.justifyContent="flex-start",document.querySelector(".toggeler").innerHTML="Strict",autoCompletejs.searchEngine="strict")});const action=function(action){const github=document.querySelector(".github-corner"),title=document.querySelector("h1"),mode=document.querySelector(".mode"),selection=document.querySelector(".selection"),footer=document.querySelector(".footer");"dim"===action?(github.style.opacity=1,title.style.opacity=1,mode.style.opacity=1,selection.style.opacity=1,footer.style.opacity=1):(github.style.opacity=.1,title.style.opacity=.3,mode.style.opacity=.2,selection.style.opacity=.1,footer.style.opacity=.1)};["focus","blur"].forEach(function(eventType){const resultsList=document.querySelector("#autoComplete_list");document.querySelector("#autoComplete").addEventListener(eventType,function(){"blur"===eventType?(action("dim"),resultsList.style.display="none"):"focus"===eventType&&(action("light"),resultsList.style.display="block")})});